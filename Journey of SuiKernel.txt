If you managed to find and read this. I consider you as a kernel developer
Note: 
- I Use self-hosted runners. Configure it by yourself
- I recommend you to use the mainline / lts from Google, if you decided to use pure Linux kernel. Leave
- And to upstream, I recommend you to upstream from your original branch (mainline / lts)
- Don't ask AIs for the modification, some of them are incorrect and leading you to try and see
- Instead read the Kconfig file (You may ask AIs to find the Kconfig related to your modification)
- And add the CONFIG_ in the begining of your config modification
- Note: Sometimes you need to modify how the Kconfig works
- Another one: Preempt is not supported in 5.10

# Get & SYNC Source
repo init -u https://android.googlesource.com/kernel/manifest -b common-android12-5.10
repo sync -c -j$(nproc --all)

# Up to GitHub to SuiKernel-Main Branch
cd common
git checkout -b suikernel-experimental | suikernel-main (In case you haven't make a new branch)
git remote set-url origin https://github.com/LoggingNewMemory/SuiKernel-android12-5.10
git remote -v (To Verify The Remote)
git branch -m suikernel-experimental | suikernel-main

git pull origin suikernel-experimental | suikernel-main (Just in case if you need to continue)

# Making Changes
git checkout suikernel-experimental | suikernel-main
git add .
git commit -m "Your Message"
git push -u origin suikernel-experimental

# To upstream
git remote add upstream https://android.googlesource.com/kernel/common
git fetch upstream refs/tags/android12-5.10.239_r00 (Example Tag | Find your tags here: https://android.googlesource.com/kernel/common/+refs)
git merge FETCH_HEAD
git push -u origin suikernel-experimental

If you need to see the changelog:
https://android-review.googlesource.com/q/project:kernel/common+branch:android12-5.10 (Android12-5.10)
https://android-review.googlesource.com/q/project:kernel/common+branch:android12-5.10-lts (Android12-5.10-lts)

########################
# Setup SUSFS
########################
Fork KernelSU Next repo (Change it to your own name (Ex: SuiKernel-KernelSU-Next)
Git clone your forked KernelSU Next repo (git clone [repo link])
Delete everything execpt kernel folder
Get my susfs.sh https://github.com/LoggingNewMemory/SuiKernel-KernelSU-Next/blob/next/susfs.sh
Run the susfs.sh inside your your forked repo 
Modify setup.sh inside your kernel folder (/kernel/setup.sh)

Change the
test -d "$GKI_ROOT/KernelSU-Next" || git clone https://github.com/KernelSU-Next/KernelSU-Next && echo "[+] Repository cloned."

To
test -d "$GKI_ROOT/KernelSU-Next" || git clone --depth 1 https://github.com/LoggingNewMemory/SuiKernel-KernelSU-Next KernelSU-Next && echo "[+] Repository cloned."

Note: https://github.com/LoggingNewMemory/SuiKernel-KernelSU-Next is just example, use your own KernelSU Next repo

########################
# Switch to LTO Thin (Unless your device is strong enough to build with full LTO)
########################
- arch/arm64/configs/gki_defconfig
CONFIG_LTO_CLANG_FULL=y replace CONFIG_LTO_CLANG_THIN=y

########################
# Fixes Touchscreen
########################
curl -s https://github.com/LoggingNewMemory/SuiKernel-Release/blob/main/Patches/FixTouch.patch | git am

########################
# Adding Schedhorizon
########################
Follow This
https://github.com/LoggingNewMemory/SuiKernel-android12-5.10/compare/cc08dc3bfd1f2eadc6edc7603ed6d01c365c3d15...d1a5000f1f6eb13044716b7bc759ca3aeae2f8bc
Then add "CONFIG_CPU_FREQ_GOV_SCHEDHORIZON=y" at the end of arch/arm64/configs/gki_defconfig

########################
# Using BBR (Default & Remove Cubic)
########################
inside /net/ipv4/Kconfig

config TCP_CONG_CUBIC
modify from default y to default n

config DEFAULT_TCP_CONG
modify from default "cubic" to default "bbr"

then add

CONFIG_TCP_CONG_ADVANCED=y
CONFIG_TCP_CONG_BBR=y
CONFIG_NET_SCH_FQ=y
CONFIG_TCP_CONG_BIC=n
CONFIG_TCP_CONG_WESTWOOD=n
CONFIG_TCP_CONG_HTCP=n
CONFIG_DEFAULT_BBR=y
CONFIG_DEFAULT_TCP_CONG="bbr"

at the end of arch/arm64/configs/gki_defconfig

########################
# Use BFQ 
########################
CONFIG_IOSCHED_BFQ=y
CONFIG_BFQ_GROUP_IOSCHED=y
CONFIG_MQ_IOSCHED_DEADLINE=n
CONFIG_MQ_IOSCHED_DEADLINE_CGROUP=n
CONFIG_MQ_IOSCHED_KYBER=n

at the end of arch/arm64/configs/gki_defconfig
